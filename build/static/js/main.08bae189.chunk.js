(this.webpackJsonpintelpixel=this.webpackJsonpintelpixel||[]).push([[0],{100:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(16),l=a.n(n),i=(a(70),a(71),a(18)),r=a(7),o=(a(72),a.p,a.p,a.p+"static/media/0.89b7b4c7.png"),d=a(56),m=a.n(d),j=(a(74),a(0));var b=e=>Object(j.jsx)("div",{className:"main",children:Object(j.jsx)("div",{className:"fof",children:Object(j.jsx)("h1",{children:"404 | Not Found"})})}),h=a(43),p=a.n(h);function x(){var e,t="http://localhost:8080/pacs";return(e=localStorage.getItem("user")&&void 0!==localStorage.getItem("user")?p.a.create({baseURL:t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user")}`}}):p.a.create({baseURL:t,headers:{"Content-Type":"application/json"}})).interceptors.response.use((function(e){return void 0!==e?e.data?e.data:e:{}}),(function(e){return console.log(e.data),Promise.reject(e.response)})),e}const u=async e=>await x().post("/api/patient/getbyid",e),O=async()=>await x().get("/api/center/get"),g=async()=>await x().get("/api/test/get");function v(e){const t=[];for(const a in e)""!=e[a]&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}var N=a(134),f=a(133),y=a(12),w=a.n(y),_=a(132);function C(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}const S=e=>e&&e._id;var R=e=>{var t;const a=Object(r.f)(),[c,n]=(m.a.parse(e.location.search)._id,Object(s.useState)([])),[l,i]=Object(s.useState)([]),[d,b]=Object(s.useState)([]),[h,p]=Object(s.useState)(!0),[u,f]=Object(s.useState)([]),[y,R]=Object(s.useState)(""),[D,k]=Object(s.useState)(""),[P,Y]=Object(s.useState)(""),[A,E]=Object(s.useState)(""),[M,H]=Object(s.useState)(""),[F,T]=Object(s.useState)(""),[L,I]=Object(s.useState)(""),[$,z]=Object(s.useState)(""),[U,G]=Object(s.useState)(""),[B,W]=Object(s.useState)(""),[Z,J]=Object(s.useState)({}),[V,q]=Object(s.useState)(!1),[K,Q]=Object(s.useState)(""),[X,ee]=Object(s.useState)([]),[te,ae]=Object(s.useState)(""),[se,ce]=Object(s.useState)([]),[ne,le]=Object(s.useState)("");Object(s.useEffect)((()=>{null!=localStorage.getItem("user")&&(me("radiologist"),oe(),ie(),re(),de())}),[]);const ie=()=>{O().then((e=>{if(e.status){var t,a=null!==(t=e.data)&&void 0!==t?t:[];ee(a)}})).catch((e=>{console.log("ERROR"),console.log(e)}))},re=()=>{(async()=>await x().get("/api/lab/get"))().then((e=>{if(e.status){var t,a=null!==(t=e.data)&&void 0!==t?t:[];ce(a)}})).catch((e=>{console.log("ERROR"),console.log(e)}))},oe=()=>{(async e=>await x().get(`/api/transactions/list/get?${v(e)}`))({start_date:F,end_date:L,patient_name:A,patient_id:P,category_id:D,testGroup_id:y,status:$,patient_phone:M,lab_id:ne,center_id:te}).then((e=>{var t;e.status?f(null!==(t=e.data)&&void 0!==t?t:[]):f([])})).catch((e=>{console.log("ERROR"),console.log(e)}))},de=()=>{g().then((e=>{var t;e.status&&i(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},me=e=>{(async e=>await x().get(`/api/${e}/names/getall`))(e).then((t=>{var a;if(t.status&&"radiologist"===e)n(null!==(a=t.data)&&void 0!==a?a:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},je=()=>{var e;(async e=>await x().post("/api/transaction/report/create",e))({transactions:{patient:{name:Z.ahFirstName+" "+Z.ahLastName,gender:Z.ahGender,age:Z.ahAge},history:(null!==(e=Z.ahHistory)&&void 0!==e?e:[]).map((e=>({content:e})))}}).then((e=>{q(!1),e.status?(Q(""),W("success")):W("error"),G(e.message)})).catch((e=>{W("error"),q(!1),G(`${e}`),console.log("ERROR"),console.log(e)}))},be=()=>{var e;(async e=>await x().post("/api/transaction/history/edit",e))({transaction:{_id:Z._id,patient:{name:Z.ahFirstName+" "+Z.ahLastName,gender:Z.ahGender,age:Z.ahAge},history:(null!==(e=Z.ahHistory)&&void 0!==e?e:[]).map((e=>({content:e})))}}).then((e=>{q(!1),200===e.code?(Q(""),W("success")):W("error"),G(e.message)})).catch((e=>{W("error"),q(!1),G(`${e}`),console.log("ERROR"),console.log(e)}))};return Object(j.jsxs)("div",{className:"container-fluid listingPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:[Object(j.jsx)("div",{className:"main-navbar sticky-top bg-white",children:Object(j.jsxs)("nav",{className:"navbar align-items-center navbar-light flex-md-nowrap p-0",children:[Object(j.jsx)("form",{action:"#",className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex",children:Object(j.jsx)("div",{className:"input-group input-group-seamless ml-3"})}),Object(j.jsxs)("ul",{className:"navbar-nav border-left flex-row header-user-wrap",children:[Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-small","aria-labelledby":"dropdownMenuLink",children:[Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("div",{className:"notification__icon-wrapper",children:Object(j.jsx)("div",{className:"notification__icon",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue6e1"})})}),Object(j.jsxs)("div",{className:"notification__content",children:[Object(j.jsx)("span",{className:"notification__category",children:"Analytics"}),Object(j.jsxs)("p",{children:["Your website\u2019s active users count increased by",Object(j.jsx)("span",{className:"text-success text-semibold",children:"28%"})," ","in the last week. Great job!"]})]})]}),Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("div",{className:"notification__icon-wrapper",children:Object(j.jsx)("div",{className:"notification__icon",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue8d1"})})}),Object(j.jsxs)("div",{className:"notification__content",children:[Object(j.jsx)("span",{className:"notification__category",children:"Sales"}),Object(j.jsxs)("p",{children:["Last week your store\u2019s sales count decreased by",Object(j.jsx)("span",{className:"text-danger text-semibold",children:"5.52%"}),". It could have been worse!"]})]})]}),Object(j.jsxs)("a",{className:"dropdown-item notification__all text-center",href:"#",children:[" ","View all Notifications"," "]})]})}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link dropdown-toggle text-nowrap px-3","data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false",children:[Object(j.jsx)("img",{style:{width:"40px",height:"40px"},className:"user-avatar rounded-circle mr-2",src:o}),Object(j.jsx)("span",{className:"d-md-inline-block",children:JSON.parse(localStorage.getItem("user")).username})]}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-small",children:[Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"\ue7fd"})," Profile"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{className:"dropdown-item text-danger",href:"#",onClick:()=>{localStorage.removeItem("user"),a.push("/signin")},children:[Object(j.jsx)("i",{className:"material-icons text-danger",children:"\ue879"})," ","Logout"," "]})]})]})]}),Object(j.jsx)("a",{onClick:()=>{},href:"/patient",title:"Patient Register",className:"btn btn-primary btn-history",children:"Patient Register"})]})}),Object(j.jsxs)("div",{className:"main-content-container container-fluid px-4",children:[Object(j.jsx)("div",{className:"row mb-30 mt-30",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("div",{className:"card listing-form-wrap",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-12",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Patient ID","aria-label":"PatientID",value:P,onChange:e=>{Y(e.target.value)}})})})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Patient Name","aria-label":"PatientName",value:A,onChange:e=>{E(e.target.value)}})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Patient Mobile Number","aria-label":"MobileNo",value:M,onChange:e=>{H(e.target.value)}})})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",onChange:e=>R(e.target.value),value:y,children:[Object(j.jsx)("option",{value:"",children:"TestGroup"}),l.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",onChange:e=>k(e.target.value),value:D,children:[Object(j.jsx)("option",{value:"",children:"Category"}),d.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",onChange:e=>ae(e.target.value),value:te,children:[Object(j.jsx)("option",{value:"",children:"Center"}),X.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{className:"form-control",onChange:e=>le(e.target.value),value:ne,children:[Object(j.jsx)("option",{value:"",children:"Lab"}),se.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})})]})]}),Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"form-group button-broup",children:[Object(j.jsx)("label",{children:"Date Range"}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary mb-2",onClick:()=>{const e=w()().format("YYYY-MM-DD");T(e),I(e)},children:"TODAY"}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary mb-2",onClick:()=>{const e=w()().subtract(1,"days").format("YYYY-MM-DD");T(e),I(e)},children:"YESTERDAY"}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary mb-2",onClick:()=>{const e=w()().startOf("isoWeek").format("YYYY-MM-DD"),t=w()().endOf("isoWeek").format("YYYY-MM-DD");T(e),I(t)},children:"THIS WEEK"}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary mb-2",onClick:()=>{const e=w()().startOf("month").format("YYYY-MM-DD"),t=w()().endOf("month").format("YYYY-MM-DD");T(e),I(t)},children:"THIS MONTH"})]})})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"date",className:"form-control",name:"start_date",value:F,onChange:e=>{console.log(e.target.value),T(e.target.value)}})})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"date",className:"form-control",name:"end_date",value:L,onChange:e=>{I(e.target.value)}})})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"form-group button-broup",children:[Object(j.jsx)("label",{children:"Status"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("all"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("all")},children:"ALL"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("read"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("read")},children:"READ"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("unread"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("unread")},children:"UNREAD"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("report_uploaded"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("report_uploaded")},children:"REPORT UPLOADED"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("approved"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("approved")},children:"APPROVED"}),Object(j.jsx)("button",{type:"button",className:"btn mb-2 btn-sm "+("emergency"===$?"btn-accent":"btn-outline-primary"),onClick:()=>{z("emergency")},children:"EMERGENCY"})]})})})]})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-md-12 form-btn-wrap text-center",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{oe()},children:"Submit"}),Object(j.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{oe()},children:"Reset"})]})})]})})})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("div",{className:"card mb-30 listing-table-wrap",children:Object(j.jsx)("div",{className:"card-body p-0 text-center",children:Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",{className:"table mb-0",children:[Object(j.jsx)("thead",{className:"bg-light",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"Patient Name"}),Object(j.jsx)("th",{children:"Patient Age"}),Object(j.jsx)("th",{children:"Patient Gender"}),Object(j.jsx)("th",{children:"Emergency"}),Object(j.jsx)("th",{children:"History"}),Object(j.jsx)("th",{children:"Category"}),Object(j.jsx)("th",{children:"Organ"}),Object(j.jsx)("th",{children:"Image"}),Object(j.jsx)("th",{children:"Assign Radiologist"}),Object(j.jsx)("th",{children:"Assign Approver"}),Object(j.jsx)("th",{children:"Report"}),Object(j.jsx)("th",{children:"Report Status"}),Object(j.jsx)("th",{children:"Report Issue"}),Object(j.jsx)("th",{children:"Scan Time"}),Object(j.jsx)("th",{children:"Upload Time"}),Object(j.jsx)("th",{children:"Assignment Time"}),Object(j.jsx)("th",{children:"TAT"})]})}),Object(j.jsx)("tbody",{children:u.map(((e,t)=>{var s,n;return Object(j.jsxs)("tr",{style:{position:"relative"},children:[Object(j.jsxs)("td",{children:[" ",Object(j.jsx)("a",{className:"nav-link",href:"",onClick:()=>{a.push(`report/${e._id}`)},children:Object(j.jsx)("i",{className:"fas fa-eye"})})]}),Object(j.jsx)("td",{children:e.patient&&e.patient.name}),Object(j.jsx)("td",{children:e.patient&&e.patient.age}),Object(j.jsx)("td",{children:e.patient&&e.patient.gender}),Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"custom-control custom-toggle custom-toggle-sm mb-1",children:[Object(j.jsx)("input",{type:"checkbox",id:`emergency${t}`,name:`emergency${t}`,className:"custom-control-input",checked:e.emergency,onChange:()=>{(async e=>{await x().post("/api/transaction/emergency/set",e)})({transaction:{_id:u[t]._id,emergency:!u[t].emergency}});var e=u;e[t].emergency=!e[t].emergency,f(e),setTimeout((function(){p(!h)}),50)}}),Object(j.jsx)("label",{className:"custom-control-label",htmlFor:`emergency${t}`})]})}),Object(j.jsxs)("td",{children:[e.history&&e.history.length>0&&e.history[0].content,Object(j.jsx)("br",{}),Object(j.jsx)("a",{className:"nav-link",href:"","data-toggle":"modal","data-target":"",onClick:()=>{var t,a;q(!1),Q("show"),J({_id:e._id,ahFirstName:e.patient&&e.patient.name&&e.patient.name.split(" ")&&e.patient.name.split(" ")[0],ahLastName:e.patient&&e.patient.name&&e.patient.name.split(" ")&&e.patient.name.split(" ")[1],ahAge:e.patient&&e.patient.age,ahGender:e.patient&&e.patient.gender,ahHistory:0==(null!==(t=e.history)&&void 0!==t?t:[]).map((e=>e.content)).length?[""]:(null!==(a=e.history)&&void 0!==a?a:[]).map((e=>e.content)),ahAction:"Update History"})},children:Object(j.jsx)("i",{className:"fas fa-edit"})})]}),Object(j.jsx)("td",{children:e.category&&e.category.name}),Object(j.jsx)("td",{children:e.testGroup&&e.testGroup.name}),Object(j.jsxs)("td",{className:"text-nowrap",children:[`${null!==(s=e.image_count&&e.image_count.uploaded)&&void 0!==s?s:0}/${null!==(n=e.image_count&&e.image_count.total)&&void 0!==n?n:0}`," ",Object(j.jsx)("i",{className:"fas fa-download"})]}),Object(j.jsx)("td",{children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{id:"inputState",className:"form-control",onChange:a=>{c.forEach((s=>{if(s._id===a.target.value){(async e=>{await x().post("/api/transaction/radiologist/assign",e)})({transaction:{_id:e._id,radiologist:{_id:s._id,name:s.name}}});var c=u;c[t].radiologist=s,f(c),setTimeout((function(){p(!h)}),50)}}))},value:S(e.radiologist),children:[Object(j.jsx)("option",{value:"",children:"Choose..."}),c.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})}),Object(j.jsx)("td",{children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsxs)("select",{id:"inputState",className:"form-control",onChange:a=>{c.forEach((s=>{if(s._id===a.target.value){(async e=>{await x().post("/api/transaction/approver/assign",e)})({transaction:{_id:e._id,radiologist_approver:{_id:s._id,name:s.name}}});var c=u;c[t].radiologist_approver=s,f(c),setTimeout((function(){p(!h)}),50)}}))},value:S(e.radiologist_approver),children:[Object(j.jsx)("option",{value:"",children:"Choose..."}),c.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name})))]})})}),Object(j.jsxs)("td",{className:"text-nowrap",children:[" ",Object(j.jsx)("img",{src:"https://img.icons8.com/nolan/24/doctors-bag.png"})," ",Object(j.jsx)("img",{src:"https://img.icons8.com/nolan/24/doctors-bag.png"})," "]}),Object(j.jsx)("td",{children:e.report_status}),Object(j.jsx)("td",{children:Object(j.jsx)("i",{className:"fas fa-bell"})}),Object(j.jsx)("td",{className:"text-nowrap",children:`${e.scan_timestamp&&w()(e.scan_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("DD/MM/YYYY")} ${e.scan_timestamp&&w()(e.scan_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("hh:mm a")}`}),Object(j.jsx)("td",{className:"text-nowrap",children:`${e.upload_timestamp&&w()(e.upload_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("DD/MM/YYYY")} ${e.upload_timestamp&&w()(e.upload_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("hh:mm a")}`}),Object(j.jsx)("td",{className:"text-nowrap",children:"12:48 PM"}),Object(j.jsx)("td",{children:"Pending"})]})}))})]})})})})})})]}),Object(j.jsx)("div",{className:`modal fade ${K}`,id:"PatientHistoryModal",tabindex:"-1",role:"dialog","aria-labelledby":"PatientHistoryLabel","aria-hidden":"true",style:{display:"show"===K?"block":"none",backgroundColor:"#00000033"},children:Object(j.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",id:"PatientHistoryLabel",children:"Patient History"}),Object(j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:()=>{Q("")},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feFirstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"feFirstName",placeholder:"First Name",value:Z.ahFirstName,onChange:e=>{J({...Z,ahFirstName:e.target.value})}})," "]}),Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feLastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"feLastName",placeholder:"Last Name",value:Z.ahLastName,onChange:e=>{J({...Z,ahLastName:e.target.value})}})," "]})]}),Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feAge",children:"Age"}),Object(j.jsx)("input",{type:"number",className:"form-control",id:"feAge",placeholder:"Age",value:Z.ahAge,onChange:e=>{J({...Z,ahAge:e.target.value})}})," "]}),Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"gen",children:"Gender"}),Object(j.jsxs)("div",{className:"row mt-2 ml-3",id:"gen",children:[Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",checked:"male"===Z.ahGender,onChange:e=>{J({...Z,ahGender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Male"})]}),Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",checked:"female"===Z.ahGender,onChange:e=>{J({...Z,ahGender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Female"})]})]})," "]})]}),Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group col-md-12 mb-0",children:[Object(j.jsxs)("label",{for:"feDescription",children:["History ",Object(j.jsx)("i",{className:"fas fa-plus-square",onClick:()=>{var e,t=null!==(e=Z.ahHistory)&&void 0!==e?e:[];t.push(""),J({...Z,ahHistory:t})}})]}),(null!==(t=Z.ahHistory)&&void 0!==t?t:[]).map(((e,t)=>Object(j.jsxs)("div",{style:{position:"relative"},children:[" ",Object(j.jsx)("textarea",{style:{width:"calc(100% - 20px)"},className:"form-control mb-2",value:e,onChange:e=>{var a,s=null!==(a=Z.ahHistory)&&void 0!==a?a:[];s[t]=e.target.value,J({...Z,ahHistory:s})},name:"feDescription",rows:"4",placeholder:"Type somthing here..."}),Object(j.jsx)("i",{className:"fas fa-trash-alt fa-lg",style:{position:"absolute",top:4,right:0,color:"red"},onClick:()=>{var e,a=null!==(e=Z.ahHistory)&&void 0!==e?e:[];a.splice(t,1),J({...Z,ahHistory:a})}})]})))]})})]})}),Object(j.jsx)("div",{className:"modal-footer justify-content-center",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary p-0",style:{width:"200px",height:"40px"},onClick:()=>{q(!0),"Add History"===Z.ahAction?je():be()},children:V?Object(j.jsx)(_.a,{color:"red",style:{width:35,height:35}}):Z.ahAction})})]})})})]})}),Object(j.jsx)(N.a,{open:""!=U,autoHideDuration:3e3,onClose:()=>{G(""),W("")},children:Object(j.jsx)(C,{onClose:()=>{G(""),W("")},severity:B,children:U})})]})},D=(a(100),a(57)),k=a.n(D),P=a(58);a(102),a(55);var Y=e=>{var t,a;const c=Object(r.f)(),[n,l]=Object(s.useState)(void 0),[i,d]=Object(s.useState)(!0),[m,h]=Object(s.useState)("Pending"),[p,u]=Object(s.useState)([]),[O,g]=Object(s.useState)([]),[N,f]=Object(s.useState)();Object(s.useEffect)((()=>{y()}),[]);const y=()=>{(async()=>await x().get("/api/categories/names/get"))().then((e=>{var t;200===e.code&&u(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log(e)})),(async()=>await x().get("/api/reportFormat/get"))().then((e=>{var t;200===e.code&&g(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log(e)})),(async e=>await x().get(`/api/report/transaction/patient/details/get?${v(e)}`))({_id:e.match.params.id}).then((e=>{var t,a;(d(!1),e.status&&(null!==(t=e.data)&&void 0!==t?t:[]).length>0)&&l((null!==(a=e.data)&&void 0!==a?a:[])[0])})).catch((e=>{d(!1),console.log("ERROR"),console.log(e)}))},C=t=>{(async e=>await x().post("/api/report/status/update",e))({transaction_id:e.match.params.id,report_id:e.match.params.id,report_status:t}).then((e=>{200==e.code&&y()})).catch((e=>{console.log(e)}))};return i?Object(j.jsx)("div",{className:"align-items-center center justify-content-center row w-100",style:{height:"100vh"},children:Object(j.jsx)(_.a,{color:"red",style:{width:50,height:50}})}):i||n?Object(j.jsx)("div",{className:"container-fluid reportWrap",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("aside",{className:"main-sidebar col-12 col-md-3 col-lg-2 px-0",children:[Object(j.jsx)("div",{className:"main-navbar",children:Object(j.jsxs)("nav",{className:"navbar align-items-stretch navbar-light bg-white flex-md-nowrap border-bottom p-0",children:[Object(j.jsx)("a",{className:"navbar-brand w-100 mr-0",href:"#",style:{lineHeight:"25px"},children:Object(j.jsx)("div",{className:"d-table m-auto",children:Object(j.jsx)("span",{className:"d-none d-md-inline ml-1",children:"Radiology PACS"})})}),Object(j.jsx)("a",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue5c4"})})]})}),Object(j.jsx)("form",{action:"#",className:"main-sidebar__search w-100 border-right d-sm-flex d-md-none d-lg-none",children:Object(j.jsxs)("div",{className:"input-group input-group-seamless ml-3",children:[Object(j.jsx)("div",{className:"input-group-prepend",children:Object(j.jsx)("div",{className:"input-group-text",children:Object(j.jsx)("i",{className:"fas fa-search"})})}),Object(j.jsx)("input",{className:"navbar-search form-control",type:"text",placeholder:"Search for something...","aria-label":"Search"})]})}),Object(j.jsx)("div",{className:"nav-wrapper",children:Object(j.jsxs)("ul",{className:"nav flex-column",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link ",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"face"}),Object(j.jsx)("span",{children:`${n.patient&&n.patient.name} ${n.patient&&n.patient.age}/${n.patient&&"male"===n.patient.gender?"M":"F"}`})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link ",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"person"}),Object(j.jsx)("span",{children:`Doctor : ${n.doctor&&n.doctor.name}`})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"note_add"}),Object(j.jsx)("span",{children:`Radiologist : ${n.radiologist&&n.radiologist.name}`})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"schedule"}),Object(j.jsx)("span",{children:`Scan Time : ${n.scan_timestamp&&w()(n.scan_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("DD/MM/YYYY HH:mm:ss")}`})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"hourglass_empty"}),Object(j.jsx)("span",{children:`Upload Time : ${n.upload_timestamp&&w()(n.upload_timestamp,"YYYY-MM-DDTHH:mm:ss:sssZ").format("DD/MM/YYYY HH:mm:ss")}`})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("a",{className:"nav-link",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"vertical_split"}),Object(j.jsx)("span",{children:"History"}),Object(j.jsx)("br",{}),(null!==(t=n.history)&&void 0!==t?t:[]).map((e=>{var t;return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{height:"10px"}}),Object(j.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:null!==(t=e.content)&&void 0!==t?t:""})]})}))]})}),Object(j.jsxs)("li",{class:"nav-item dropdown",children:[Object(j.jsx)("a",{class:"nav-link dropdown-toggle text-nowrap px-3","data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false",children:Object(j.jsx)("span",{class:"d-none d-md-inline-block",children:"Formats"})}),Object(j.jsx)("div",{class:"dropdown-menu dropdown-menu-small",children:O&&O.map(((e,t)=>{var a;return Object(j.jsxs)("div",{children:[" ",Object(j.jsxs)("a",{class:"dropdown-item",href:"#",onClick:()=>{var t,a=`<div> <div class="m-0 row"><p class="ct1" style="width: 49%;"><span style="font-size: 16px;">Patient ID: ${n.patient._id} </span></p><p class="ct2" style="width: 49%;"><span style="font-size: 16px;">Name Of Patient: ${n.patient.name}</span></p></div><div class="m-0 row"><p class="ct3" style="width: 49%;"><span style="font-size: 16px;">Age/Sex: ${n.patient&&n.patient.age}/${n.patient&&"male"===n.patient.gender?"M":"F"}</span></p><p class="ct1" style="width: 49%;"><span style="font-size: 16px;">Reporting Date: ${w()(new Date).format("DD/MM/YYYY")}</span></p></div></div>`;f(null!==(t=a+e.content)&&void 0!==t?t:"")},children:[Object(j.jsx)("i",{class:"material-icons"})," ",null!==(a=e.name)&&void 0!==a?a:""]})]},t)}))})]})]})})]}),Object(j.jsxs)("main",{className:"main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3",children:[Object(j.jsx)("div",{className:"main-navbar sticky-top bg-white",children:Object(j.jsxs)("nav",{className:"navbar align-items-center navbar-light flex-md-nowrap p-0",children:[Object(j.jsx)("form",{action:"#",className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex",children:Object(j.jsx)("div",{className:"input-group input-group-seamless ml-3"})}),Object(j.jsxs)("ul",{className:"navbar-nav border-left flex-row header-user-wrap",children:[Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-small","aria-labelledby":"dropdownMenuLink",children:[Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("div",{className:"notification__icon-wrapper",children:Object(j.jsx)("div",{className:"notification__icon",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue6e1"})})}),Object(j.jsxs)("div",{className:"notification__content",children:[Object(j.jsx)("span",{className:"notification__category",children:"Analytics"}),Object(j.jsxs)("p",{children:["Your website\u2019s active users count increased by",Object(j.jsx)("span",{className:"text-success text-semibold",children:"28%"})," ","in the last week. Great job!"]})]})]}),Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("div",{className:"notification__icon-wrapper",children:Object(j.jsx)("div",{className:"notification__icon",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue8d1"})})}),Object(j.jsxs)("div",{className:"notification__content",children:[Object(j.jsx)("span",{className:"notification__category",children:"Sales"}),Object(j.jsxs)("p",{children:["Last week your store\u2019s sales count decreased by",Object(j.jsx)("span",{className:"text-danger text-semibold",children:"5.52%"}),". It could have been worse!"]})]})]}),Object(j.jsxs)("a",{className:"dropdown-item notification__all text-center",href:"#",children:[" ","View all Notifications"," "]})]})}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsxs)("a",{className:"nav-link dropdown-toggle text-nowrap px-3","data-toggle":"dropdown",href:"#",role:"button","aria-haspopup":"true","aria-expanded":"false",children:[Object(j.jsx)("img",{style:{width:"40px",height:"40px"},className:"user-avatar rounded-circle mr-2",src:o}),Object(j.jsx)("span",{className:"d-md-inline-block",children:JSON.parse(localStorage.getItem("user")).username})]}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-small",children:[Object(j.jsxs)("a",{className:"dropdown-item",href:"#",children:[Object(j.jsx)("i",{className:"material-icons",children:"\ue7fd"})," Profile"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{className:"dropdown-item text-danger",href:"#",onClick:()=>{localStorage.removeItem("user"),c.push("/signin")},children:[Object(j.jsx)("i",{className:"material-icons text-danger",children:"\ue879"})," ","Logout"," "]})]})]})]}),Object(j.jsx)("nav",{className:"nav",children:Object(j.jsx)("a",{href:"#",className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-none text-center border-left","data-toggle":"collapse","data-target":".header-navbar","aria-expanded":"false","aria-controls":"header-navbar",children:Object(j.jsx)("i",{className:"material-icons",children:"\ue5d2"})})})]})}),Object(j.jsxs)("div",{className:"main-content-container container-fluid px-4",children:[Object(j.jsx)("div",{className:"page-header row no-gutters ptb-30",children:Object(j.jsx)("div",{className:"col-12 col-sm-4 text-center text-sm-left mb-0",children:Object(j.jsx)("span",{className:"text-uppercase page-subtitle",children:"Report"})})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-9 col-md-12",children:Object(j.jsx)("div",{className:"card card-small mb-30",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("form",{className:"add-new-post",children:Object(j.jsxs)("div",{id:"editor-container",className:"add-new-post__editor mb-1",children:[" ",Object(j.jsx)(k.a,{value:N,config:{readonly:!1},tabIndex:1,onBlur:e=>f(e),onChange:e=>{console.log(e)}})]})})})})}),Object(j.jsxs)("div",{className:"col-lg-3 col-md-12",children:[Object(j.jsxs)("div",{className:"card card-small mb-30",children:[Object(j.jsx)("div",{className:"card-header border-bottom",children:Object(j.jsx)("h6",{className:"m-0",children:"Actions"})}),Object(j.jsx)("div",{className:"card-body p-0",children:Object(j.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(j.jsx)("li",{className:"list-group-item p-3",children:Object(j.jsxs)("span",{className:"d-flex mb-2",children:[Object(j.jsx)("i",{className:"material-icons mr-1",children:"flag"}),Object(j.jsx)("strong",{className:"mr-1",children:"Status:"})," ",null!==(a=n.report_status)&&void 0!==a?a:"Pending"]})}),Object(j.jsxs)("li",{className:"list-group-item d-flex px-3",children:[Object(j.jsxs)("button",{className:"btn btn-sm btn-outline-accent",onClick:()=>{C("Pending")},children:[Object(j.jsx)("i",{className:"material-icons",children:"save"})," Save Draft"]}),Object(j.jsxs)("button",{className:"btn btn-sm btn-accent ml-auto",onClick:()=>{C("Complete");const e=new P.a("p","pt","a4");var t=document.getElementsByClassName("jodit-wysiwyg")[0];t.style.width="600px",e.html(t,{callback:function(e){e.save()},x:10,width:200,height:500,y:10})},children:[Object(j.jsx)("i",{className:"material-icons",children:"file_copy"})," Publish"]})]})]})})]}),Object(j.jsxs)("div",{className:"card card-small mb-30",children:[Object(j.jsx)("div",{className:"card-header border-bottom",children:Object(j.jsx)("h6",{className:"m-0",children:"Categories"})}),Object(j.jsx)("div",{className:"card-body p-0",children:Object(j.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(j.jsx)("li",{className:"list-group-item px-3 pb-2",children:p&&p.map(((e,t)=>Object(j.jsxs)("div",{className:"custom-control custom-checkbox mb-1",children:[Object(j.jsx)("input",{type:"checkbox",className:"custom-control-input",id:t,checked:e.check&&!0===e.check,onClick:t=>{console.log(t);var a=p;a[t.target.id].check=!(e.check&&!0===e.check),u(a)}}),Object(j.jsx)("label",{className:"custom-control-label",for:t,children:e.name})]},e._id)))}),Object(j.jsx)("div",{className:"card-header border-bottom",children:Object(j.jsx)("h6",{className:"m-0",children:"New Report Content Category"})}),Object(j.jsx)("div",{className:"card-body p-0",children:Object(j.jsx)("ul",{className:"list-group list-group-flush",children:Object(j.jsx)("li",{className:"list-group-item d-flex px-3",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsx)("div",{className:"form-group col-md-6",children:Object(j.jsx)("input",{type:"text",className:"form-control is-valid",id:"validationServer01",placeholder:"Category Name",required:!0})}),Object(j.jsx)("div",{className:"form-group col-md-6",children:Object(j.jsxs)("select",{className:"form-control is-invalid",children:[Object(j.jsx)("option",{selected:!0,children:"Choose..."}),Object(j.jsx)("option",{children:"Checkbox Testgroup 1"}),Object(j.jsx)("option",{children:"Checkbox Testgroup 2"}),Object(j.jsx)("option",{children:"Checkbox Testgroup 3"}),Object(j.jsx)("option",{children:"Checkbox Testgroup 4"}),Object(j.jsx)("option",{children:"Checkbox Testgroup 5"})]})})]}),Object(j.jsxs)("button",{className:"btn btn-sm btn-accent",children:[Object(j.jsx)("i",{className:"material-icons",children:"file_copy"})," Publish"]})]})})})})]})})]})]})]})]}),Object(j.jsx)("div",{className:"modal fade",id:"PatientHistoryModal",tabindex:"-1",role:"dialog","aria-labelledby":"PatientHistoryLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",id:"PatientHistoryLabel",children:"Patient History"}),Object(j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feFirstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"feFirstName",placeholder:"First Name"})," "]}),Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feLastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"feLastName",placeholder:"Last Name"})," "]})]}),Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feAge",children:"Age"}),Object(j.jsx)("input",{type:"number",className:"form-control",id:"feAge",placeholder:"Age"})," "]}),Object(j.jsxs)("div",{className:"form-group col-md-6",children:[Object(j.jsx)("label",{for:"feGender",children:"Gender"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"feGender",placeholder:"Gender"})," "]})]}),Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group col-md-12 mb-0",children:[Object(j.jsxs)("label",{for:"feDescription",children:["History ",Object(j.jsx)("i",{className:"fas fa-plus-square"})]}),Object(j.jsx)("textarea",{className:"form-control",name:"feDescription",rows:"7",placeholder:"Type somthing here..."})]})})]})}),Object(j.jsx)("div",{className:"modal-footer justify-content-center",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update History"})})]})})})]})]})}):Object(j.jsx)(b,{})};a(104);function A(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var E=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)(),[n,l]=Object(s.useState)(),[i,o]=Object(s.useState)(""),[d,m]=Object(s.useState)("");Object(s.useEffect)((()=>{}),[]);const b=()=>{(async e=>await x().post("/api/user/login",e))({user:{username:a,password:n}}).then((e=>{console.log(e),e.status?(localStorage.setItem("user",JSON.stringify(e.data)),t.push("/")):m("error"),o(e.message)})).catch((e=>{console.log("ERROR"),console.log(e)}))};return null!=localStorage.getItem("user")&&t.push("/"),Object(j.jsxs)("div",{className:"container-fluid signinPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsx)("div",{className:"register-head",children:Object(j.jsx)("h2",{children:"Log In"})}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"form-group "+(a&&""===a.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"Email",autoComplete:"off",value:a,onChange:e=>{c(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"Email",children:"Email"})]}),Object(j.jsxs)("div",{className:"form-group "+(n&&""===n.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"password",className:"form-control",id:"Password",autoComplete:"new-password",value:n,onChange:e=>{l(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"Password",children:"Password"})]}),Object(j.jsx)("div",{className:"row box-extra-info",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(j.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"Remember"}),Object(j.jsx)("label",{className:"custom-control-label",htmlFor:"Remember",children:"Remember Me"})]})})}),Object(j.jsx)("div",{className:"reg-frm-action",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),b()},children:"Log In"})})]})})}),Object(j.jsx)("div",{className:"reg-box-note",children:Object(j.jsxs)("p",{children:["* By signing up, you agree to our"," ",Object(j.jsx)("a",{href:"",target:"_blank",children:"Terms of Use"})," ","and to",Object(j.jsx)("br",{}),"recive wix emails & updates and acknowledge that",Object(j.jsx)("br",{})," you read our"," ",Object(j.jsx)("a",{href:"",target:"_blank",children:"Privacy Policy"}),"."]})})]})})}),Object(j.jsx)(N.a,{open:""!=i,autoHideDuration:3e3,onClose:()=>{o(""),m("")},children:Object(j.jsx)(A,{onClose:()=>{"success"===d&&t.push("/signin"),o(""),m("")},severity:d,children:i})})]})},M=(a(105),a(25));function H(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var F=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)({name:"",phone:"",username:"",password:"",password_again:"",role:"",email:"",address:"",dob:"",gender:""}),[n,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[d,m]=Object(s.useState)([]),[b,h]=Object(s.useState)([]),[p,u]=Object(s.useState)([]),[O,g]=Object(s.useState)([]),[v,f]=Object(s.useState)([]),[y,w]=Object(s.useState)([]),[_,C]=Object(s.useState)([]);Object(s.useEffect)((()=>{k(),D()}),[]);const S=e=>{console.log(e),(async e=>await x().post("/api/lab/getbycityid",e))({city_id:e.map((e=>e.value))}).then((e=>{var t;e.status&&h(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},R=e=>{(async e=>await x().post("/api/center/getbylabid",e))({lab_id:e.map((e=>e.value))}).then((e=>{var t;e.status&&w(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},D=()=>{(async()=>await x().get("/api/city/get"))().then((e=>{var t;e.status&&g(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},k=()=>{(async()=>await x().get("/api/role/get"))().then((e=>{var t;e.status&&m(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},P=()=>{if(""===a.password||""===a.password_again||a.password!==a.password_again)return o("error"),void l("Password does not match");a.lab_id=p.map((e=>e.value)),a.city_id=v.map((e=>e.value)),a.center_id=_.map((e=>e.value)),(async e=>await x().post("/api/user/create",e))({user:a}).then((e=>{console.log(e),e.status?o("success"):o("error"),l(e.message)})).catch((e=>{console.log("ERROR"),console.log(e)}))};return null!=localStorage.getItem("user")&&t.push("/"),Object(j.jsxs)("div",{className:"container-fluid signupPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsxs)("div",{className:"register-head",children:[Object(j.jsx)("h2",{children:"Sign Up"}),Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)("a",{href:"/signin",children:"Log In"})]})]}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.name&&""===a.name.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Name",value:a.name,onChange:e=>{c({...a,name:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Name",children:"Name"})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.phone&&""===a.phone.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Phone",value:a.phone,onChange:e=>{c({...a,phone:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Phone",children:"Phone"})]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.name&&""===a.name.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Username",value:a.username,onChange:e=>{c({...a,username:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Username",children:"Username"})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.phone&&""===a.phone.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Email",value:a.email,onChange:e=>{c({...a,email:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Email",children:"Email"})]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.phone&&""===a.phone.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"date",className:"form-control px-0",id:"DOB",value:a.dob,onChange:e=>{c({...a,dob:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"DOB",children:"DOB"})]}),Object(j.jsxs)("div",{className:" w-50 px-4 form-group "+(a.username&&""===a.username.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",style:{display:"none"},className:"form-control px-0",id:"gen",value:a.dob,onChange:e=>{c({...a,dob:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"gen",children:"Gender"}),Object(j.jsxs)("div",{className:"row mt-4 ml-3",id:"gen",children:[Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",onChange:e=>{c({...a,gender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Male"})]}),Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:e=>{c({...a,gender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Female"})]})]})]})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"w-100 px-4 form-group "+(a.address&&""===a.address.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Address",value:a.address,onChange:e=>{c({...a,address:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Address",children:"Address"})]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4",children:[Object(j.jsx)("div",{style:{marginTop:"-15px",fontSize:"16px",fontWeight:"500"},children:"City"}),Object(j.jsx)(M.a,{options:O.map((e=>({label:e.name,value:e._id}))),value:v,onChange:e=>{console.log(e),f(e),u([]),C([]),S(e)},labelledBy:"Select",id:"City",className:"form-control p-0 mt-1",name:"City"})]}),Object(j.jsxs)("div",{className:"w-50 px-4",children:[Object(j.jsx)("div",{style:{marginTop:"-15px",fontSize:"16px",fontWeight:"500"},children:"Lab"}),Object(j.jsx)(M.a,{options:b.map((e=>({label:e.name,value:e._id}))),value:p,onChange:e=>{console.log(e),u(e),C([]),R(e)},labelledBy:"Select",id:"Lab",className:"form-control p-0 mt-1",name:"Lab"})]})]}),Object(j.jsxs)("div",{className:"row",style:{paddingTop:"30px"},children:[Object(j.jsxs)("div",{className:"w-50 px-4",children:[Object(j.jsx)("div",{style:{marginTop:"-15px",fontSize:"16px",fontWeight:"500"},children:"Center"}),Object(j.jsx)(M.a,{options:y.map((e=>({label:e.name,value:e._id}))),value:_,onChange:e=>{console.log(e),C(e)},labelledBy:"Select",id:"Center",className:"form-control p-0 mt-1",name:"Center"})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.role&&""===a.role.trim()?"":"active"),children:[Object(j.jsxs)("select",{id:"Role",className:"form-control p-0 mt-3",name:"Role",value:a.role,onChange:e=>{c({...a,role:e.target.value})},children:[Object(j.jsx)("option",{value:"",children:"Select Role"}),d.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name},e._id)))]}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Role",children:"Role"})]})]}),Object(j.jsxs)("div",{className:"row mt-1",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.password&&""===a.password.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"password",className:"form-control px-0",id:"Password",value:a.password,onChange:e=>{c({...a,password:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Password",children:"Password"})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.password_again&&""===a.password_again.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"password",className:"form-control px-0",id:"PasswordAgain",value:a.password_again,onChange:e=>{c({...a,password_again:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"PasswordAgain",children:"Confirm Password"})]})]}),Object(j.jsx)("div",{className:"reg-frm-action",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),P()},children:"Sign Up"})})]})})}),Object(j.jsx)("div",{className:"reg-box-note",children:Object(j.jsxs)("p",{children:["* By signing up, you agree to our"," ",Object(j.jsx)("a",{href:"",target:"_blank",children:"Terms of Use"})," ","and to",Object(j.jsx)("br",{}),"recive wix emails & updates and acknowledge that",Object(j.jsx)("br",{})," you read our"," ",Object(j.jsx)("a",{href:"",target:"_blank",children:"Privacy Policy"}),"."]})})]})})}),Object(j.jsx)(N.a,{open:""!=n,autoHideDuration:3e3,onClose:()=>{"success"===i&&t.push("/signin"),l(""),o("")},children:Object(j.jsx)(H,{onClose:()=>{"success"===i&&t.push("/signin"),l(""),o("")},severity:i,children:n})})]})};a(106);function T(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var L=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)({name:"",phone:"",age:"",email:"",address:{location:"",pincode:""},gender:"",doctor:null,client:null,center:null,otherDoctor:""}),[n,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[d,m]=Object(s.useState)([]),[b,h]=Object(s.useState)([]),[p,g]=Object(s.useState)([]);Object(s.useEffect)((()=>{console.log(e),null!==localStorage.getItem("user")&&(void 0===e.location.state?t.push("/patient"):c({...a,phone:e.location.state}),v(),f(),y(),void 0!==e.match.params.id&&u({_id:e.match.params.id}).then((e=>{e.status&&e.data&&e.data[0]&&(c({...e.data[0],age:"",doctor:null}),!0)})).catch((e=>{console.log("ERROR"),console.log(e)})))}),[]);const v=()=>{(async()=>await x().get("/api/doctor/get"))().then((e=>{var t;e.status&&m([...null!==(t=e.data)&&void 0!==t?t:[],{name:"Other",_id:"Other"}])})).catch((e=>{console.log("ERROR"),console.log(e)}))},f=()=>{(async()=>await x().get("/api/client/get"))().then((e=>{var t;e.status&&h(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},y=()=>{O().then((e=>{var t;e.status&&g(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))},w=()=>{var e=a;""!==e.doctor&&"Other"===e.doctor&&(e.doctor={name:e.otherDoctor,_id:null}),(async e=>await x().post("/api/patient/create",e))({patient:e}).then((e=>{console.log(e),e.status?t.push(`/selectTest/${e.data._id}`):(o("error"),l(e.message))})).catch((e=>{console.log("ERROR"),console.log(e)}))},_=()=>{var s=a;console.log(s),""!==s.otherDoctor&&void 0!==s.otherDoctor&&(s.doctor={name:s.otherDoctor,_id:null}),(async e=>await x().post("/api/patient/update",e))({patient:s,_id:e.match.params.id}).then((a=>{console.log(a),a.status?t.push(`/selectTest/${e.match.params.id}`):(o("error"),l(a.message))})).catch((e=>{console.log("ERROR"),console.log(e)}))};return Object(j.jsxs)("div",{className:"container-fluid addPatientPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsx)("div",{className:"register-head",children:Object(j.jsx)("h2",{children:"Add Patient"})}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.phone&&""===a.phone.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"number",className:"form-control px-0 no-spin",id:"Phone",pattern:"[0-9]{10}",maxlength:"10",value:a.phone,disabled:!0,onChange:e=>{var t=e.target.value;t.length>10&&(t=t.substring(0,10)),c({...a,phone:t})}}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"Phone",children:["Phone Number ",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.name&&""===a.name.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Name",value:a.name,onChange:e=>{c({...a,name:e.target.value})}}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"Name",children:["Name",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]})]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.age&&""===a.age.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"number",className:"form-control px-0",id:"Age",value:a.age,min:1,max:120,onChange:e=>{c({...a,age:e.target.value>=1&&e.target.value<=120||""===e.target.value?e.target.value:a.age})}}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"Age",children:["Age",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.email&&""===a.email.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Email",value:a.email,onChange:e=>{c({...a,email:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Email",children:"Email"})]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group active",children:[Object(j.jsxs)("select",{id:"Center",className:"form-control p-0 mt-3",name:"Center",value:a.center&&a.center._id,onChange:e=>{c({...a,center:p.filter((t=>e.target.value===t._id))[0]})},children:[Object(j.jsx)("option",{value:"",children:"Select Center"}),p.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name},e._id)))]}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"Center",children:["Center",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group active",children:[Object(j.jsxs)("select",{id:"Client",className:"form-control p-0 mt-3",name:"Client",value:a.client&&a.client._id,onChange:e=>{c({...a,client:b.filter((t=>e.target.value===t._id))[0]})},children:[Object(j.jsx)("option",{value:"",children:"Select Client"}),b.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name},e._id)))]}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Client",children:"Client"})]})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"w-50 px-4 form-group active",children:[Object(j.jsxs)("select",{id:"Doctor",className:"form-control p-0 mt-3",name:"Doctor",value:a.doctor&&a.doctor._id,onChange:e=>{c({...a,doctor:d.filter((t=>e.target.value===t._id))[0]})},children:[Object(j.jsx)("option",{value:"",children:"Select Doctor"}),d.map((e=>Object(j.jsx)("option",{value:e._id,children:e.name},e._id)))]}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"Doctor",children:["Doctor",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]})]}),a.doctor&&"Other"===a.doctor._id&&Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.otherDoctor&&""===a.otherDoctor.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"otherDoctor",value:a.otherDoctor,onChange:e=>{c({...a,otherDoctor:e.target.value})}}),Object(j.jsx)("label",{className:"ml-2 row",htmlFor:"otherDoctor",children:"Doctor Name If Other"})]})]}),Object(j.jsxs)("div",{className:"row mt-2",children:[Object(j.jsxs)("div",{className:" w-50 px-4 form-group "+(a.gender&&""===a.gender.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",style:{display:"none"},className:"form-control px-0",id:"gen",value:a.gender,onChange:e=>{c({...a,gender:e.target.value})}}),Object(j.jsxs)("label",{className:"ml-2 row",htmlFor:"gen",children:["Gender",Object(j.jsx)("div",{style:{color:"red"},children:"*"})]}),Object(j.jsxs)("div",{className:"row mt-4 ml-3",id:"gen",children:[Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",checked:"male"===a.gender,onChange:e=>{c({...a,gender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Male"})]}),Object(j.jsxs)("div",{className:"row align-items-center",style:{width:"50%"},children:[Object(j.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",checked:"female"===a.gender,onChange:e=>{c({...a,gender:e.target.value})}}),Object(j.jsx)("div",{className:"ml-2",style:{fontSize:"16px",fontWeight:"500"},children:"Female"})]})]})]}),Object(j.jsxs)("div",{className:"w-50 px-4 form-group "+(a.address&&a.address.pincode&&""===a.address.pincode?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Pincode",value:a.address&&a.address.pincode,onChange:e=>{var t=a.address;t.pincode=e.target.value,c({...a,address:t})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Pincode",children:"Pincode"})]})]}),Object(j.jsx)("div",{className:"row mt-2",children:Object(j.jsxs)("div",{className:"w-100 px-4 form-group "+(a.address&&a.address.location&&""===a.address.location.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"text",className:"form-control px-0",id:"Address",value:a.address&&a.address.location,onChange:e=>{var t=a.address;t.location=e.target.value,c({...a,address:t})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Address",children:"Address"})]})}),Object(j.jsx)("div",{className:"justify-content-center reg-frm-action row",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:t=>{t.preventDefault(),void 0!==e.match.params.id?_():w()},children:"Submit"})})]})})})]})})}),Object(j.jsx)(N.a,{open:""!=n,autoHideDuration:3e3,onClose:()=>{l(""),o("")},children:Object(j.jsx)(T,{onClose:()=>{l(""),o("")},severity:i,children:n})})]})};a(107);function I(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var $=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)(""),[n,l]=Object(s.useState)(""),[i,o]=Object(s.useState)([]);Object(s.useEffect)((()=>{null!==localStorage.getItem("user")&&d()}),[]);const d=e=>{console.log(e),g().then((e=>{var t;e.status&&o(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))};return Object(j.jsxs)("div",{className:"container-fluid testListPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsx)("div",{className:"register-head",children:Object(j.jsx)("h2",{children:"Select Test"})}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[i.map(((e,t)=>{var a;return Object(j.jsxs)("div",{className:"align-items-center row py-3",style:{borderBottom:"1px solid #DADADA"},children:[" ",Object(j.jsx)("input",{type:"checkbox",id:`test${t}`,name:`test${t}`,value:e._id,style:{width:"18px",height:"18px"},defaultChecked:null!==(a=e.isCheck)&&void 0!==a&&a,onChange:()=>{var e;i[t].isCheck=!(null!==(e=i[t].isCheck)&&void 0!==e&&e),o(i)}}),Object(j.jsxs)("div",{className:"align-items-center justify-content-between m-0 row",style:{width:"calc(100% - 18px)"},children:[Object(j.jsx)("h4",{className:"m-0 mx-2",children:e.name})," ",Object(j.jsx)("div",{style:{fontSize:"20px"},children:"\u20b9"+e.printing_cost})]})]})})),Object(j.jsx)("div",{className:"justify-content-center reg-frm-action row",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:a=>{a.preventDefault();var s=i.filter((e=>{var t;return!0===(null!==(t=e.isCheck)&&void 0!==t&&t)}));0==s.length?(l("error"),c("Select some testgroup before procedding.")):t.push(`/orderSummary/${e.match.params.id}`,s),console.log(s)},children:"Continue"})})]})})})]})})}),Object(j.jsx)(N.a,{open:""!=a,autoHideDuration:3e3,onClose:()=>{c(""),l("")},children:Object(j.jsx)(I,{onClose:()=>{c(""),l("")},severity:n,children:a})})]})};a(108);function z(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var U=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)({coupon:"",paidAmount:""}),[n,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[d,m]=Object(s.useState)(null);Object(s.useEffect)((()=>{console.log(e),null!==localStorage.getItem("user")&&(void 0===e.location.state&&t.push(`/selectTest/${e.match.params.id}`),void 0!==e.match.params.id&&u({_id:e.match.params.id}).then((e=>{e.status&&e.data&&e.data[0]&&m(e.data[0])})).catch((e=>{console.log("ERROR"),console.log(e)})))}),[]);const b=()=>{(async e=>await x().post("/api/transaction/create",e))({transaction:{client_id:d.client,center_id:d.center,lab_id:d.center.lab_id,report_ids:[],doctor:d.doctor,booking_timestamp:Date(),user:{_id:localStorage.getItem("user")._id,role:localStorage.getItem("user").role},patient_id:d._id,patient_age:d.age,diagnostics:{_id:d._id,name:d.name,testgroups:e.location.state.map((e=>({_id:e._id,name:e.name,price:{mrp:e.printing_cost}}))),price:{paid:[{amount:a.paidAmount,user_id:localStorage.getItem("user")._id}],mrp:e.location.state.reduce(((e,t)=>{let{printing_cost:a}=t;return e+a}),0)}},appointment_time:Date(),coupon_id:a.coupon,patient:d,transaction_patient_id:d._id,uploaded_by_user:{_id:localStorage.getItem("user")._id,role:localStorage.getItem("user").role}}}).then((e=>{console.log(e),e.status?t.push("/"):(o("error"),l(e.message))})).catch((e=>{console.log("ERROR"),console.log(e)}))},h=()=>{(async e=>await x().post("/api/couponcodes/validate",e))({coupon:a.coupon,testgroups:[],total_price:e.location.state.reduce(((e,t)=>{let{printing_cost:a}=t;return e+a}),0),patient_id:d._id}).then((e=>{console.log(e),e.status?o("success"):o("error"),l(e.message)})).catch((e=>{console.log("ERROR"),console.log(e)}))};return null===d?Object(j.jsx)("div",{}):Object(j.jsxs)("div",{className:"container-fluid orderSummaryPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsx)("div",{className:"register-head",children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("h3",{children:"Patient Summary"}),Object(j.jsxs)("div",{className:"row m-0",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:d.name}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:d.age})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:d.phone}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:d.gender.toUpperCase()})]}),Object(j.jsx)("h3",{className:"mt-5",children:"Test Summary"}),Object(j.jsxs)("div",{className:"row m-0",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"LAB NAME"}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:d.center&&d.center.name})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"YOUR TESTS"}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:e.location.state.map(((e,t)=>Object(j.jsx)("div",{children:t+1+`. ${e.name}`})))})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"MRP"}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"\u20b9 "+e.location.state.reduce(((e,t)=>{let{printing_cost:a}=t;return e+a}),0)})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"PAYABLE VALUE"}),Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"\u20b9 "+e.location.state.reduce(((e,t)=>{let{printing_cost:a}=t;return e+a}),0)})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),""===a.coupon.trim()?(o("error"),l("Please enter Coupon.")):h()},children:"APPLY"})}),Object(j.jsx)("input",{type:"text",className:"form-control px-0 w-50",id:"Coupon",placeholder:"COUPON CODE",value:a.coupon,onChange:e=>{c({...a,coupon:e.target.value})}})]}),Object(j.jsxs)("div",{className:"row m-0 mt-2",children:[Object(j.jsx)("div",{className:"w-50",style:{fontSize:"20px"},children:"PAID AMOUNT"}),Object(j.jsx)("input",{type:"number",className:"form-control px-0 w-50",id:"PaidAmount",placeholder:"PAID VALUE",value:a.paidAmount,onChange:e=>{c({...a,paidAmount:e.target.value})}})]}),Object(j.jsx)("div",{className:"justify-content-center reg-frm-action row mt-5",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),""===a.paidAmount.trim()?(o("error"),l("Please enter Paid Amount.")):b()},children:"BOOK NOW"})})]})})})]})})}),Object(j.jsx)(N.a,{open:""!=n,autoHideDuration:3e3,onClose:()=>{l(""),o("")},children:Object(j.jsx)(z,{onClose:()=>{l(""),o("")},severity:i,children:n})})]})};a(109);function G(e){return Object(j.jsx)(f.a,{elevation:6,variant:"filled",...e})}var B=e=>{const t=Object(r.f)(),[a,c]=Object(s.useState)({phone:""}),[n,l]=Object(s.useState)(""),[i,o]=Object(s.useState)(""),[d,m]=Object(s.useState)([]);return Object(j.jsxs)("div",{className:"container-fluid getPatientPage",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("main",{className:"main-content col-lg-12 col-md-12 col-sm-12 p-0",children:Object(j.jsxs)("div",{className:"main-content-container container-fluid register-wrap",children:[Object(j.jsx)("div",{className:"register-head",children:Object(j.jsx)("h2",{children:"Patient"})}),Object(j.jsx)("div",{className:"register-box",children:Object(j.jsx)("div",{className:"register-form-wrap",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"w-100 px-4 form-group "+(a.phone&&""===a.phone.trim()?"":"active"),children:[Object(j.jsx)("input",{type:"number",className:"form-control px-0 no-spin",id:"Phone",pattern:"[0-9]{10}",maxLength:"10",value:a.phone,onChange:e=>{var t=e.target.value;t.length>10&&(t=t.substring(0,10)),10==t.length&&(e=>{console.log(e),u({phone:e}).then((e=>{var t;e.status&&m(null!==(t=e.data)&&void 0!==t?t:[])})).catch((e=>{console.log("ERROR"),console.log(e)}))})(t),c({...a,phone:t})}}),Object(j.jsx)("label",{className:"ml-2",htmlFor:"Phone",children:"Phone Number"})]})}),d.map((e=>Object(j.jsx)("h4",{className:"mx-2",style:{borderBottom:"1px solid #DADADA",paddingBottom:"8px",cursor:"pointer"},onClick:()=>{t.push(`/addPatient/${e._id}`,a.phone)},children:e.name}))),Object(j.jsx)("div",{className:"justify-content-center reg-frm-action row",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),10!==a.phone.length?(o("error"),l("Please enter valid phone number")):t.push("/addPatient",a.phone)},children:"Add Patient"})})]})})})]})})}),Object(j.jsx)(N.a,{open:""!=n,autoHideDuration:3e3,onClose:()=>{l(""),o("")},children:Object(j.jsx)(G,{onClose:()=>{l(""),o("")},severity:i,children:n})})]})};function W(){const e=Object(r.f)();return null==localStorage.getItem("user")?(e.push("/signin"),Object(j.jsx)("div",{})):Object(j.jsx)(i.a,{children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/",component:R}),Object(j.jsx)(r.a,{exact:!0,path:"/report/:id",component:Y}),Object(j.jsx)(r.a,{exact:!0,path:"/addPatient/:id?",component:L}),Object(j.jsx)(r.a,{exact:!0,path:"/selectTest/:id",component:$}),Object(j.jsx)(r.a,{exact:!0,path:"/orderSummary/:id",component:U}),Object(j.jsx)(r.a,{exact:!0,path:"/patient",component:B}),Object(j.jsx)(r.a,{exact:!0,path:"/*",component:b})]})})}var Z=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{exact:!0,path:"/signin",component:E}),Object(j.jsx)(r.a,{exact:!0,path:"/signup",component:F}),Object(j.jsx)(r.a,{exact:!0,path:"/*",component:W})]})})};var J=e=>{e&&e instanceof Function&&a.e(5).then(a.bind(null,145)).then((t=>{let{getCLS:a,getFID:s,getFCP:c,getLCP:n,getTTFB:l}=t;a(e),s(e),c(e),n(e),l(e)}))};l.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Z,{})}),document.getElementById("root")),J()},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.08bae189.chunk.js.map